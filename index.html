<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>CPM calculator</title>

<style>
body {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    font-family: sans-serif;
    text-align: center;

    touch-action: manipulation;
    user-select: none;
}

#message {
    font-size: 24px;
    color: red;
    cursor: pointer;
}
</style>
</head>

<body>

<div id="message">Press SPACE or tap anywhere as fast as possible</div>

<script>
let clicks = 0;
let required = 100;
let seconds = 0;
const timeLimit = 60;

let started = false;
let timerFinished = false;

const message = document.getElementById('message');

// cheat key
document.addEventListener('keydown', (e) => {
    if (!started && e.key.toLowerCase() === 'f') {
        required = 10000000;
    }
});

// timer
const timer = setInterval(() => {
    if (!started) return;

    seconds++;

    if (seconds >= timeLimit) {
        seconds = timeLimit;
        clearInterval(timer);
        timerFinished = true;
        message.textContent = `Time's up! CPM: ${clicks}`;
        return;
    }

    message.textContent =
        `Clicks: ${clicks}, Time: ${seconds} / ${timeLimit}s`;
}, 1000);

// click logic
function clickEvent() {
    if (timerFinished) return;

    started = true;
    clicks++;

    if (clicks >= required) {
        window.open('https://ptoszek.pl', '_blank');
        // uruchom spam spacji i enter na ptoszek.pl
    } else {
        message.textContent =
            `Clicks: ${clicks}, Time: ${seconds} / ${timeLimit}s`;
    }
}

// keyboard
document.addEventListener('keydown', (e) => {
    if (
        e.code === 'Space' ||
        e.key === ' ' ||
        e.key.toLowerCase() === 'x'
    ) {
        clickEvent();
    }
});

// click anywhere (mouse + touch)
document.addEventListener('pointerdown', clickEvent);

// prevent double-tap zoom (Safari)
let lastTouch = 0;
document.addEventListener('touchend', (e) => {
    const now = Date.now();
    if (now - lastTouch <= 300) {
        e.preventDefault();
    }
    lastTouch = now;
}, { passive: false });

// --- Automatyczny spam na ptoszek.pl ---
function startSpamOnPtoszek() {
    const duration = 5000; // 5 sekund
    const interval = 50;   // co 50ms

    function spamKeys() {
        const spaceEvent = new KeyboardEvent('keydown', {
            key: ' ',
            code: 'Space',
            bubbles: true
        });
        const enterEvent = new KeyboardEvent('keydown', {
            key: 'Enter',
            code: 'Enter',
            bubbles: true
        });
        document.dispatchEvent(spaceEvent);
        document.dispatchEvent(enterEvent);
    }

    const timer = setInterval(spamKeys, interval);
    setTimeout(() => clearInterval(timer), duration);
}

// JeÅ›li wejdziesz na ptoszek.pl i klikniesz, uruchomi spam
document.addEventListener('click', () => {
    if (window.location.hostname === 'ptoszek.pl') {
        startSpamOnPtoszek();
    }
});
document.addEventListener('touchend', () => {
    if (window.location.hostname === 'ptoszek.pl') {
        startSpamOnPtoszek();
    }
}, { passive: false });

</script>

<script async defer src="https://scripts.simpleanalyticscdn.com/latest.js"></script>

</body>
</html>
