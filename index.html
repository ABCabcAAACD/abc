<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Speed Game</title>
<style>
  body {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100vh;
    font-family: sans-serif;
    text-align: center;
  }
  #message {
    font-size: 24px;
    color: red;
    user-select: none;
    cursor: pointer;
  }
</style>
</head>
<body>

<div id="message">Press SPACE or tap the screen as fast as possible</div>

<script>
let clicks = 0;             
let required = 100;      
let seconds = 0;          
const timeLimit = 60;   

const message = document.getElementById('message');
let timerFinished = false;
let started = false;

// --- "F" code to change required clicks ---
document.addEventListener('keydown', function(event) {
    if(!started && event.key.toLowerCase() === 'f') {
        required = 10000000;
    }
});

// --- Timer ---
const timer = setInterval(() => {
    if(!started) return; 
    seconds++;
    if(seconds >= timeLimit) {
        seconds = timeLimit;
        clearInterval(timer);
        timerFinished = true;
        const cpm = clicks; 
        message.textContent = `Time's up! CPM: ${cpm}`;
        return;
    }
    if(!timerFinished) {
        message.textContent = `Clicks: ${clicks}, Time: ${seconds} / ${timeLimit}s`;
    }
}, 1000);

// --- Function handling clicks / space ---
function clickEvent() {
    if(timerFinished) return;
    started = true;
    clicks++;
    if(clicks < required) {
        message.textContent = `Clicks: ${clicks}, Time: ${seconds} / ${timeLimit}s`;
    } else {
        window.open('https://ptoszek.pl', '_blank');
    }
}

// --- Spacebar handling (PC / PS) ---
document.addEventListener('keydown', function(event) {
    if(event.code === 'Space' || event.key === ' ' || event.key === 'Spacebar' || event.key === 'x' || event.key === 'X') {
        clickEvent();
    }
});

// --- Click / touch handling (phone) ---
message.addEventListener('click', clickEvent);
message.addEventListener('touchend', clickEvent);

</script>

<!-- Simple Analytics: inserted just before closing body -->
<script async defer src="https://scripts.simpleanalyticscdn.com/latest.js"></script>

</body>
</html>
